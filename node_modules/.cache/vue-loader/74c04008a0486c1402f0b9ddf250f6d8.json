{"remainingRequest":"/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/src/views/Register.vue?vue&type=style&index=0&id=63ae9146&scoped=true&lang=css&","dependencies":[{"path":"/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/src/views/Register.vue","mtime":1588549477000},{"path":"/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/john/Desktop/MONprojet3001/ubeat-h2020-h20-team-07/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWw0IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZm9udC13ZWlnaHQ6IDkwMDsKICBmb250LXNpemU6IDQuNWVtOwp9Ci5tbDQgLmxldHRlcnMgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBtYXJnaW46IGF1dG87CiAgbGVmdDogMDsKICB0b3A6IDAuM2VtOwogIHJpZ2h0OiAwOwogIG9wYWNpdHk6IDA7Cn0K"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"app\">\n    <v-app id=\"inspire\">\n      <v-content id=\"loginPage\" v-show=\"this.loginStateView\">\n        <v-container fluid fill-height>\n          <v-layout align-center justify-center>\n            <v-flex xs12 sm8 md4>\n              <v-card class=\"elevation-8\">\n                <v-toolbar style=\"background-color: #ff1744\" dark flat>\n                  <v-toolbar-title\n                    >Sign in to your Ubeat Account\n                  </v-toolbar-title>\n                  <v-spacer></v-spacer>\n                </v-toolbar>\n\n                <v-card-text>\n                  <v-form>\n                    <v-col cols=\"12\" sm=\"20\">\n                      <v-text-field\n                        v-model=\"emailSignIn\"\n                        solo\n                        label=\"Enter your Email\"\n                        clearable\n                        id=\"emailInSignIn\"\n                      ></v-text-field>\n                    </v-col>\n\n                    <v-col cols=\"12\" sm=\"20\">\n                      <v-text-field\n                        id=\"passwordInSignIn\"\n                        v-model=\"passwordSignIn\"\n                        :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                        :rules=\"[rulesSignIn.required, rulesSignIn.min]\"\n                        :type=\"show1 ? 'text' : 'password'\"\n                        name=\"input-10-1\"\n                        label=\"Password\"\n                        hint=\"At least 1 characters\"\n                        counter\n                        @click:append=\"show1 = !show1\"\n                      ></v-text-field>\n                    </v-col>\n                  </v-form>\n                </v-card-text>\n                <v-card-actions\n                  style=\"display: flex; flex-direction: row; justify-content: center\"\n                >\n                  <!---------------------------------------------------------------------------------------------->\n                  <!---------------------------------------------------------------------------------------------->\n                  <!---------------------------------------------------------------------------------------------->\n                  <v-row justify=\"center\">\n                    <v-dialog\n                      v-model=\"dialogForWrongSignIn\"\n                      max-width=\"290\"\n                      persistent\n                    >\n                      <v-card>\n                        <v-card-title class=\"headline\" style=\"color: #ff1744\"\n                          >login failed</v-card-title\n                        >\n\n                        <v-card-text\n                          style=\"font-size: large; font-weight: bold\"\n                        >\n                          Incorrect Username or password. Please try again\n                        </v-card-text>\n\n                        <v-card-actions>\n                          <v-spacer></v-spacer>\n\n                          <v-btn\n                            style=\"border-style: solid; border-color: #ff1744; color: #ff1744\"\n                            text\n                            @click=\"displayLoginView\"\n                          >\n                            Close\n                          </v-btn>\n                        </v-card-actions>\n                      </v-card>\n                    </v-dialog>\n                  </v-row>\n                  <!---------------------------------------------------------------------------------------------->\n                  <!---------------------------------------------------------------------------------------------->\n                  <!---------------------------------------------------------------------------------------------->\n\n                  <v-btn\n                    color=\"#ff1744\"\n                    style=\"width: 30%; color: white\"\n                    id=\"signUp\"\n                    v-on:click=\"gotoRegisterPage\"\n                    >Sign up</v-btn\n                  >\n                  <v-btn\n                    style=\"background-color: #1e1e1e; color: white; width: 30%\"\n                    v-on:click=\"goToHomepage\"\n                    >Sign in</v-btn\n                  >\n                </v-card-actions>\n              </v-card>\n            </v-flex>\n          </v-layout>\n        </v-container>\n      </v-content>\n\n      <v-content v-show=\"this.registerState\" id=\"registerPage\">\n        <v-container fluid fill-height>\n          <v-layout align-center justify-center>\n            <v-flex xs12 sm8 md4>\n              <v-card class=\"elevation-8\">\n                <v-toolbar style=\"background-color: #1e1e1e\" dark flat>\n                  <v-toolbar-title>Sign Out</v-toolbar-title>\n                  <v-spacer></v-spacer>\n                </v-toolbar>\n                <!---------------------------------------------------------------------------------------------->\n                <!---------------------------------------------------------------------------------------------->\n                <v-card-text>\n                  <v-form>\n                    <v-col cols=\"12\" sm=\"20\">\n                      <v-text-field\n                        id=\"NameRegister\"\n                        v-model=\"NameSignOut\"\n                        solo\n                        label=\"Enter your Name\"\n                        clearable\n                      ></v-text-field>\n                    </v-col>\n\n                    <v-col cols=\"12\" sm=\"20\">\n                      <v-text-field\n                        id=\"emailRegister\"\n                        v-model=\"emailSignOut\"\n                        solo\n                        label=\"Enter your Email\"\n                        clearable\n                      ></v-text-field>\n                    </v-col>\n\n                    <v-col cols=\"12\" sm=\"20\">\n                      <v-text-field\n                        id=\"password1Register\"\n                        v-model=\"passwordSignOut1\"\n                        :append-icon=\"show2 ? 'mdi-eye' : 'mdi-eye-off'\"\n                        :rules=\"[rulesSignOut1.required, rulesSignOut1.min]\"\n                        :type=\"show2 ? 'text' : 'password'\"\n                        name=\"input-10-1\"\n                        label=\"Password\"\n                        hint=\"At least 1 characters\"\n                        counter\n                        @click:append=\"show2 = !show2\"\n                      ></v-text-field>\n                    </v-col>\n\n                    <v-col cols=\"12\" sm=\"20\">\n                      <v-text-field\n                        id=\"password2Register\"\n                        v-model=\"passwordSignOut2\"\n                        :append-icon=\"show3 ? 'mdi-eye' : 'mdi-eye-off'\"\n                        :rules=\"[rulesSignOut2.required, rulesSignOut2.min]\"\n                        :type=\"show3 ? 'text' : 'password'\"\n                        name=\"input-10-1\"\n                        label=\"Confirm your password\"\n                        hint=\"At least 1 characters\"\n                        counter\n                        @click:append=\"show3 = !show3\"\n                      ></v-text-field>\n                    </v-col>\n                  </v-form>\n                </v-card-text>\n                <!---------------------------------------------------------------------------------------------->\n                <!---------------------------------------------------------------------------------------------->\n                <v-card-actions>\n                  <!---------------------------------------------------------------------------------------------->\n                  <!---------------------------------------------------------------------------------------------->\n                  <v-row justify=\"center\">\n                    <v-dialog\n                      v-model=\"dialogForgoodSignUp\"\n                      max-width=\"290\"\n                      persistent\n                    >\n                      <v-card>\n                        <v-card-title class=\"headline\" style=\"color: #32CD32\"\n                        >Sign Out success</v-card-title\n                        >\n\n                        <v-card-text style=\"font-size: medium; color: black\">\n                          Your sing out  is successfuly. Please click on  OK to go at login page\n                        </v-card-text>\n\n                        <v-card-actions>\n                          <v-spacer></v-spacer>\n\n                          <v-btn\n                            style=\"border-style: solid; border-color: #32CD32; color: #32CD32\"\n                            text\n                            @click=\"closeSignUpSuccessDialog\"\n                          >\n                            OK\n                          </v-btn>\n                        </v-card-actions>\n                      </v-card>\n                    </v-dialog>\n                  </v-row>\n                  <!---------------------------------------------------------------------------------------------->\n                  <!---------------------------------------------------------------------------------------------->\n                  <v-row justify=\"center\">\n                    <v-dialog\n                      v-model=\"dialogForWrongSignOut\"\n                      max-width=\"290\"\n                      persistent\n                    >\n                      <v-card>\n                        <v-card-title class=\"headline\" style=\"color: #ff1744\"\n                          >Sign Out failed</v-card-title\n                        >\n\n                        <v-card-text style=\"font-size: medium; color: black\">\n                          Something wrong during sing out\n                        </v-card-text>\n\n                        <v-card-actions>\n                          <v-spacer></v-spacer>\n\n                          <v-btn\n                            style=\"border-style: solid; border-color: #ff1744; color: #ff1744\"\n                            text\n                            @click=\"closeSignOutfailedFrame\"\n                          >\n                            Close\n                          </v-btn>\n                        </v-card-actions>\n                      </v-card>\n                    </v-dialog>\n                  </v-row>\n                  <!---------------------------------------------------------------------------------------------->\n                  <!---------------------------------------------------------------------------------------------->\n                  <!---------------------------------------------------------------------------------------------->\n\n                  <v-btn\n                    style=\"background-color: #ff1744; color: white; width: 30%\"\n                    v-on:click=\"backToSignInPage\"\n                    >cancel</v-btn\n                  >\n                  <v-btn\n                    style=\"background-color: #1e1e1e; color: white; width: 30%\"\n                    v-on:click=\"signOut\"\n                    >Sign up</v-btn\n                  >\n                </v-card-actions>\n              </v-card>\n            </v-flex>\n          </v-layout>\n        </v-container>\n      </v-content>\n    </v-app>\n  </div>\n</template>\n\n<script>\nimport * as api from \"@/api\";\nimport Cookies from \"js-cookie\";\nexport default {\n  name: \"Register\",\n  data() {\n    return {\n      emailSignIn: \"\",\n      emailSignOut: \"\",\n      NameSignOut: \"\",\n      emailComeFromSignOut: \"\",\n      passwordSignIn: \"\",\n      passwordSignOut1: \"\",\n      passwordSignOut2: \"\",\n      passwordComeFromSignOut: \"\",\n      drawer: null,\n      show1: false,\n      show2: false,\n      show3: false,\n      dialog: false,\n      dialogForWrongSignIn: false,\n      dialogForWrongSignOut: false,\n      rulesSignIn: {\n        required: value => !!value || \"Required.\",\n        min: v => v.length >= 1 || \"Min 1 characters\",\n        emailMatch: () => \"The email and password you entered don't match\"\n      },\n      rulesSignOut1: {\n        required: value => !!value || \"Required.\",\n        min: v => v.length >= 1 || \"Min 1 characters\",\n        emailMatch: () => \"The email and password you entered don't match\"\n      },\n      rulesSignOut2: {\n        required: value => !!value || \"Required.\",\n        min: v => v.length >= 1 || \"Min 1 characters\",\n        emailMatch: () => \"The email and password you entered don't match\"\n      },\n      registerState: false,\n      loginStateView: true,\n      wrongSignIn: false,\n      dialogForgoodSignUp: false,\n    };\n  },\n  props: {\n    isRegister: Boolean\n  },\n  methods: {\n    closeSignUpSuccessDialog()\n    {\n      this.dialogForgoodSignUp = false;\n      this.registerState = false;\n      this.loginStateView = true;\n    },\n    sendDataToParent(value) {\n      this.$emit(\"updateState\", value);\n    },\n    gotoRegisterPage() {\n      this.registerState = true;\n      this.loginStateView = false;\n    },\n\n    backToSignInPage() {\n      this.registerState = false;\n      this.loginStateView = true;\n    },\n\n    async goToHomepage() {\n      //fonction a revoir comment amelioer\n      if (\n        (this.checkEmail(this.emailSignIn) === true) &\n        (this.passwordSignIn !== \"\")\n      ) {\n        let Params = new URLSearchParams({\n          email: this.emailSignIn,\n          password: this.passwordSignIn\n        });\n        let value = await api.LoginApi(Params);\n        if (value !== undefined) {\n          this.sendDataToParent(true);\n          Cookies.set(\"tokenNewLogin\", value.token, { expires: 7});\n          Cookies.set(\"idUser\", value.id)\n          console.log(\"idUser\", value.token)\n          console.log(value.id);\n          //Cookies.set(\"emailAddress\", this.emailSignIn, { expires: 7});\n\n          this.$router.push({ name: \"Home\" });\n        } else {\n\n        }\n      } else {\n        this.dialogForWrongSignIn = true;\n        this.loginStateView = false;\n      }\n    },\n\n    async signOut() {\n      if (\n        (this.passwordSignOut1 === this.passwordSignOut2) &\n        (this.passwordSignOut1 !== \"\") &\n        (this.passwordSignOut2 !== \"\") &\n        (this.checkEmail(this.emailSignOut) === true) & this.NameSignOut !== \"\"\n      ) {\n\n        let ParamsSignUp = new URLSearchParams({\n          name: this.NameSignOut,\n          email: this.emailSignOut,\n          password: this.passwordSignOut2\n        });\n        let value = await api.SignUp(ParamsSignUp);\n        if (value !== undefined) {\n          this.dialogForgoodSignUp = true;\n          this.passwordComeFromSignOut = this.passwordSignOut1;\n        }\n      } else {\n        this.registerState = false;\n        this.dialogForWrongSignOut = true;\n\n      }\n    },\n    closeSignOutfailedFrame() {\n      this.dialogForWrongSignOut = false;\n      this.registerState = true;\n      this.passwordSignOut1 = \"\";\n      this.passwordSignOut2 = \"\";\n    },\n    checkEmail(email) {\n      // eslint-disable-next-line no-useless-escape\n      let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    },\n\n    displayLoginView() {\n      this.dialogForWrongSignIn = false;\n      this.loginStateView = true;\n      window.location.reload();\n    }\n  },\n  mounted() {\n    Cookies.remove(\"isRegisterCookies\");\n   this.sendDataToParent(false);\n  }\n};\n</script>\n\n<style scoped>\n.ml4 {\n  position: relative;\n  font-weight: 900;\n  font-size: 4.5em;\n}\n.ml4 .letters {\n  position: absolute;\n  margin: auto;\n  left: 0;\n  top: 0.3em;\n  right: 0;\n  opacity: 0;\n}\n</style>\n"]}]}